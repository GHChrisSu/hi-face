{
  "version": "2.0",
  "envId": "{{env.ENV_ID}}",
  "$schema": "https://framework-1258016615.tcloudbaseapp.com/schema/latest.json",
  "functionRoot": "cloud/functions",
  "framework": {
    "name": "taro-starter",
    "plugins": {
      "client": {
        "use": "@cloudbase/framework-plugin-website",
        "inputs": {
          "buildCommand": "cd taro && npm run release:web",
          "outputPath": "taro/dist-h5/",
          "cloudPath": "/",
          "envVariables": {
            "SERVER_ENV": "{{env.SERVER_ENV}}"
          }
        }
      },
      "miniprogram": {
        "use": "@cloudbase/framework-plugin-mp",
        "inputs": {
          "buildCommand": "cd taro && SERVER_ENV={{env.SERVER_ENV}} npm run release",
          "appid": "{{env.APP_ID}}",
          "privateKeyPath": "miniprogram-private.key",
          "localPath": "taro/",
          "ignores": "[node_modules/**/*]",
          "deployMode": "preview",
          "previewOptions": {
            "desc": "CloudBase Framework 一键预览",
            "setting": {
              "es6": true
            },
            "qrcodeOutputPath": "./qrcode.jpg",
            "pagePath": "pages/avatar-edit/avatar-edit"
          }
        }
      },
      "server": {
        "use": "@cloudbase/framework-plugin-function",
        "inputs": {
          "functionRootPath": "cloud/functions",
          "functions": [
            {
              "name": "hiface-api",
              "config": {
                "timeout": 20,
                "envVariables": {},
                "runtime": "Nodejs10.15",
                "memorySize": 1024
              }
            }
          ]
        }
      }
    }
  }
}